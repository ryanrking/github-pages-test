<!DOCTYPE html>
  <html>
  <head>
    <title>Example Page</title>
  </head>
  <body>
    <h1>Choose a characteristic</h1>
    <div class="initial">
      <button value="0">Type 1</button>
      <button value="1">Type 2</button>
      <button value="2">Type 3</button>
      <button value="3">Type 4</button>
      <button value="4">Type 5</button>
      <button value="5">Type 6</button>
      <button value="6">Type 7</button>
    </div>
    <div class="traits" style="display: none;">
      <button value="0">Trait 1</button>
      <button value="1">Trait 2</button>
      <button value="2">Trait 3</button>
    </div>
    <div class="results" style="display: none;">
      <p>Neutrophils: 53%</p>
      <p>Monocytes: 24%</p>
      <p>Lymphocytes: 16%</p>
      <span></span>
      <br/>
      <button class="reset">Reset</button>
    </div>

    <script>
      let selected_characteristic = 0;
      let selected_trait = 0;
      let traits = [['1-a', '1-b', '1-c'],
                    ['2-a', '2-b', '2-c', '2-d'],
                    ['3-a', '3-b', '3-c'],
                    ['4-a', '4-b', '4-c'],
                    ['5-a', '5-b', '5-c'],
                    ['6-a', '6-b', '6-c'],
                    ['7-a', '7-b', '7-c']];
      let data = [[.2, .4, .4, .6, .4],
                  [.1, .3, .4, .6, .4],
                  [.4, .7, .4, .6, .4],
                  [.5, .3, .4, .6, .4],
                  [.4, .8, .4, .6, .4],
                  [.2, .1, .4, .6, .4],
                  [.7, .8, .4, .6, .4],
                  [.1, .3, .4, .6, .4],
                  [.9, .2, .4, .6, .4],
                  [.3, .7, .4, .6, .4],
                  [.1, .4, .4, .6, .4],
                  [.6, .3, .4, .6, .4],
                  [.9, .2, .4, .6, .4],
                  [.4, .7, .4, .6, .4],
                  [.2, .1, .4, .6, .4],
                  [.1, .8, .4, .6, .4],
                  [.6, .8, .4, .6, .4],
                  [.8, .3, .4, .6, .4],
                  [.0, .8, .4, .6, .4],
                  [.4, .9, .4, .6, .4],
                  [.3, .1, .4, .6, .4],
                  [.2, .2, .4, .6, .4],
                  [.1, .4, .4, .6, .4],
                  [.7, .2, .4, .6, .4],
                  [.6, .2, .4, .6, .4]];
                  

      document.querySelectorAll('.initial button').forEach((btn) => {
        btn.addEventListener('click', function() {
          document.querySelector('h1').innerHTML = 'Now choose a trait';
          document.querySelector('.initial').style.display = 'none';
          document.querySelector('.traits').style.display = 'block';
          document.querySelector('.traits').innerHTML = '';
          selected_characteristic = btn.value;
          for (let i in traits[btn.value]) {
            document.querySelector('.traits').innerHTML += '<button value='+ i + '>' + traits[btn.value][i] + '</button>';
          }
          document.querySelectorAll('.traits button').forEach((b) => {
            b.addEventListener('click', function() {
              document.querySelector('h1').innerHTML = 'Results';
              document.querySelector('.traits').style.display = 'none';
              document.querySelector('.results').style.display = 'block';
              selected_trait = b.value;
              document.querySelector('.results span').innerHTML = selected_characteristic + ' ' + selected_trait;
            })
          });
        })
      });
      
    
      document.querySelectorAll('.reset').forEach((btn) => {
        btn.addEventListener('click', function() {
          document.querySelector('h1').innerHTML = 'Choose a characteristic';
          document.querySelector('.traits').style.display = 'none';
          document.querySelector('.results').style.display = 'none';
          document.querySelector('.initial').style.display = 'block';
        })
      });
    </script>
  </body>
</html>